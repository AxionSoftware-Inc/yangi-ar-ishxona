<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>AR Left Path</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <style>
        body { margin: 0; overflow: hidden; }
        #ui {
            position: fixed; top: 15px; width: 100%; text-align: center;
            z-index: 10; color: white; font-family: sans-serif;
        }
        .btn {
            background: #007bff; color: white; border: none; padding: 10px 20px;
            border-radius: 5px; font-size: 16px; margin-top: 10px; cursor: pointer;
        }
    </style>
</head>
<body>

    <div id="ui">
        <div style="background: rgba(0,0,0,0.6); padding: 10px; border-radius: 10px; display: inline-block;">
            <b>Navigatsiya:</b> Chapga buriling! ⬅️
        </div>
    </div>

    <video id="v" autoplay playsinline muted style="position:fixed; top:0; left:0; width:100%; height:100%; object-fit:cover; z-index:-1;"></video>

    <a-scene vr-mode-ui="enabled: false">
        <a-entity camera look-controls position="0 1.6 0"></a-entity>

        <a-entity id="arrow-path" position="0 0.5 0"></a-entity>

    </a-scene>

    <script>
        // 1. Kamerani yoqish
        const v = document.getElementById('v');
        navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' } })
            .then(s => { v.srcObject = s; })
            .catch(e => { alert("Kamera ruxsati: " + e); });

        // 2. STRELKALAR ARRAYINI YASASH
        const pathGroup = document.getElementById('arrow-path');
        
        // 5 metrlik yo'l (har 1 metrda bitta strelka)
        for (let i = 1; i <= 5; i++) {
            const arrow = document.createElement('a-entity');
            
            // Koordinata: X o'qi bo'yicha chapga (minus) ketaveradi
            // position="-i 0 0" (X = -1, -2, -3...)
            arrow.setAttribute('position', `${-i} 0 0`);
            
            // Strelkaning o'zi (Konus shaklida)
            // rotation="0 0 90" strelkani chapga qaratadi
            arrow.innerHTML = `
                <a-cone radius-bottom="0.1" radius-top="0" height="0.4" color="#00ff66" rotation="0 0 90"></a-cone>
                <a-text value="${i}m" position="0 0.4 0" align="center" scale="1.5 1.5 1.5" color="white"></a-text>
            `;
            
            pathGroup.appendChild(arrow);
        }
    </script>
</body>
</html>